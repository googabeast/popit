<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>$.popit()</title>

	<link href="static/css/common.css" rel="stylesheet" type="text/css"/>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

	<script type="text/javascript">
	$.e = {
		doc: { ready:[], custom:[] },
		win: { scroll:[], load:[], resize:[], resizestart:[], resizestop:[], orientationchange:[] }
	};

	(function($){
		var slice = Array.prototype.slice;
		$.extend($.event.special,{

			resizestop:{
				add: function(handle){
					var handler = handle.handler;

					$(this).resize(function(e){
						clearTimeout(handler._timer);
						e.type = "resizestop";

						var _proxy = $.proxy(handler, this, e);
						handler._timer = setTimeout(_proxy, handle.data || 200);
					});
				}
			},
			resizestart:{
				add: function(handle){
					var handler = handle.handler;

					$(this).on("resize", function(e){
						clearTimeout(handler._timer);
						if (!handler._started) {
							e.type = "resizestart";
							handler.apply(this, arguments);
							handler._started = true;
						}
						handler._timer = setTimeout($.proxy(function(){
							handler._started = false;
						}, this), handle.data || 300);
					});
				}
			}
		});

		$.extend($.fn, {
			resizestop: function() {
				$(this).on.apply(this, ["resizestop"].concat(slice.call(arguments)));
			},
			resizestart: function() {
				$(this).on.apply(this, ["resizestart"].concat(slice.call(arguments)));
			}
		});
	})(jQuery);
	</script>
</head>

<body>
<!--
	<h1>$.popit() Modal Control</h1>

	<h2>Features:</h2>
	<ul>
		<li>Utilization of HTML5 data attributes
			<ul>
				<li>Easy to modify modal behavious utilizing data-info attributes utilizing JSON</li>
			</ul>
		</li>
		<li>Named exceptions from default.name allowing for easy modifacations of specific modals
			<ul>
				<li>Session timeout example after 30mins using $.popit.alert()</li>
			</ul>
		</li>
		<li>Easy JS shorthand refference to object refferences:
			<ul>
				<li>$.popit.open()</li>
				<li>$.popit.alert()</li>
				<li>$.popit.dialog()</li>
			</ul>
		</li>
		<li>JSRender Templates for custom modals &amp; ajax calls</li>
		<li>Unique global features:
			<ul>
				<li>Custom DOM ready array</li>
				<li>Custom triggerHandler array</li>
				<li>Custom window events
					<ul>
						<li>load array</li>
						<li>scroll array</li>
						<li>resize array</li>
						<li>orientationchange array</li>
						<li>*new* resizestart array</li>
						<li>*new* resizestop array</li>
					</ul>

				</li>
			</ul>
		</li>
	</ul>


	<h2>Requirements:</h2>
	<ul>
		<li>JQuery 3.2.1 (future testing for below versions will occur)</li>
		<li><a href="https://www.jsviews.com/#download" target="_blank">JSRender</a> for various custom templates used such as "dialog."</li>
	</ul>
-->
	<h2>Examples of direct HTML utilization:</h2>
	<ol>
		<li><a href="javascript:void(0);" data-popit="onpageContent" data-info='{"target":"#onpage"}'>On page Popup</a></li>
		<li><a href="javascript:void(0);" data-popit="genericPopup" data-info='{ "data":"a test modal" }'>Generic Popup</a></li>
		<li><a href="javascript:void(0);" data-popit="ajaxExample" data-info='{ "href":"ajax/example.html" }'>Generic Ajax</a></li>
		<li><a href="javascript:void(0);" data-popit="ajaxIframe" data-info='{ "href":"ajax/iframe.html" }'>Generic iframe</a></li>
		<li><a href="javascript:void(0);" data-popit="siteFeedback" data-info='{"href":"ajax/siteFeedback.html","css":"siteFeedbackModal"}'>Site Feedback</a></li>
	</ol>


	<div id="onpage" style="display:none;">On page content popup</div>


	<script src="static/js/jsrender-min.js"></script>
	<script src="static/js/popit.js"></script>
	<script src="static/js/demojs.js"></script>

	<script type="text/javascript">
	//This JS file must load last across the entire system - it controls all custom events, document ready and window event binds.

	//bind custom document events
	for(var i = 0; i < $.e.doc.custom.length; i++){ var c = $.e.doc.custom[i]; $(document).on(c.name, c.func); }

	//new plugins have api's and push events with these functions
	$(document).ready(function(){ for(var i = 0; i < $.e.doc.ready.length; i++){ $.e.doc.ready[i](); }});

	$(window).on({
		load:function(){for(var i = 0; i < $.e.win.load.length; i++){ $.e.win.load[i](); };},
		scroll:function(){for(var i = 0; i < $.e.win.scroll.length; i++){ $.e.win.scroll[i](); };},
		resize:function(){for(var i = 0; i < $.e.win.resize.length; i++){ $.e.win.resize[i](); };},
		resizestart:function(){for(var i = 0; i < $.e.win.resizestart.length; i++){ $.e.win.resizestart[i](); };},
		resizestop:function(){for(var i = 0; i < $.e.win.resizestop.length; i++){ $.e.win.resizestop[i](); };},
		orientationchange:function(){for(var i = 0; i < $.e.win.orientationchange.length; i++){ $.e.win.orientationchange[i](); };}
	});
	</script>
</body>
</html>

